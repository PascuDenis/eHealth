<div class="forms">
  <mat-card class="profilePicture">
    <mat-card-header *ngIf="profileImageUrl">
      <img mat-card-avatar [src]="profileImageUrl" />
      <mat-card-title> </mat-card-title>
      <mat-card-subtitle></mat-card-subtitle>
      <mat-card-subtitle></mat-card-subtitle>
    </mat-card-header>
    <button mat-raised-button (click)="openInput()">
      Change profile picture
    </button>
    <input
      id="fileInput"
      hidden
      type="file"
      (change)="uploadProfilePicture($event)"
    />
  </mat-card>

  <mat-divider></mat-divider>
  <mat-card class="profileEdit">
    <mat-card-header>
      <mat-card-title>My profile</mat-card-title>
    </mat-card-header>
    <form class="editProfileForm" [formGroup]="editProfileForm" action="#">
      <mat-form-field floatLabel="auto" hideRequiredMarker appearance="legacy">
        <mat-label>Full Name</mat-label>
        <input matInput formControlName="name" />
      </mat-form-field>
      <br />
      <mat-form-field floatLabel="auto" hideRequiredMarker appearance="legacy">
        <mat-label>Username</mat-label>
        <input matInput formControlName="username" />
      </mat-form-field>
      <br />
      <mat-form-field floatLabel="auto" hideRequiredMarker appearance="legacy">
        <mat-label>Email</mat-label>
        <input matInput formControlName="email" />
      </mat-form-field>
      <br />
      <mat-form-field floatLabel="auto" hideRequiredMarker appearance="legacy">
        <mat-label>Telephone number</mat-label>
        <input matInput formControlName="telephoneNumber" />
      </mat-form-field>
      <br />
      <mat-form-field floatLabel="auto" hideRequiredMarker appearance="legacy">
        <mat-label>Street addresss</mat-label>
        <input matInput formControlName="streetAddress" />
      </mat-form-field>
      <br />
      <mat-form-field floatLabel="auto" hideRequiredMarker appearance="legacy">
        <mat-label>City</mat-label>
        <input matInput formControlName="city" />
      </mat-form-field>
      <br />
      <mat-form-field floatLabel="auto" hideRequiredMarker appearance="legacy">
        <mat-label>State</mat-label>
        <input matInput formControlName="state" />
      </mat-form-field>
      <br />
      <mat-form-field floatLabel="auto" hideRequiredMarker appearance="legacy">
        <mat-label>Specialist ID</mat-label>
        <input matInput formControlName="drId" />
      </mat-form-field>
      <br />
      <mat-form-field floatLabel="auto" hideRequiredMarker appearance="legacy">
        <mat-select
          placeholder="Specialization"
          formControlName="specialization"
        >
          <input matInput #box placeholder="Add another specializaion" />
          <button mat-button (click)="addSpecialization(box.value)">
            Add
          </button>

          <mat-option *ngFor="let s of specializations" [value]="s">
            {{ s }}
            <mat-icon (click)="removeSpecialization(s)">
              delete
            </mat-icon>
          </mat-option>
        </mat-select>
      </mat-form-field>
      <br />
      <button
        mat-raised-button
        type="submit"
        (click)="updateProfile(editProfileForm.value)"
      >
        Save profile
      </button>
    </form>
  </mat-card>

  <mat-card class="changePassword">
    <mat-card-header>
      <mat-card-title>Password</mat-card-title>
    </mat-card-header>
    <form
      class="changePasswordForm"
      [formGroup]="changePasswordForm"
      action="#"
    >
      <mat-form-field floatLabel="auto" hideRequiredMarker appearance="legacy">
        <mat-label>Current password</mat-label>
        <input type="password" matInput formControlName="currentPassword" />
      </mat-form-field>
      <br />
      <mat-form-field floatLabel="auto" hideRequiredMarker appearance="legacy">
        <mat-label>New password</mat-label>
        <input type="password" matInput formControlName="newPassword" />
      </mat-form-field>
      <br />
      <mat-form-field floatLabel="auto" hideRequiredMarker appearance="legacy">
        <mat-label>Confirm new password</mat-label>
        <input type="password" matInput formControlName="confirmNewPassword" />
      </mat-form-field>
      <br />
      <button
        mat-raised-button
        type="submit"
        (click)="changePassword(changePasswordForm.value)"
      >
        Change Password
      </button>
    </form>
  </mat-card>

  <ng-template #loading>
    Loading User...
  </ng-template>
</div>
